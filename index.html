<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Buscador de Preguntas Linux - Respuesta Ãšnica</title>
  <style>
    body { font-family: Arial, Helvetica, sans-serif; background:#f6f8fa; margin:0; padding:20px; color:#111; }
    .container { max-width:900px; margin:24px auto; background:#fff; padding:24px; border-radius:8px; box-shadow:0 4px 14px rgba(0,0,0,0.08); }
    h1 { margin-top:0; }
    .controls { display:flex; gap:8px; align-items:center; margin-bottom:12px; }
    input[type="text"] { flex:1; padding:10px 12px; font-size:16px; border:1px solid #ccd; border-radius:6px; }
    button { padding:10px 14px; font-size:15px; border-radius:6px; border:0; cursor:pointer; background:#0366d6; color:#fff; }
    button.secondary { background:#6a737d; }
    .result { margin-top:16px; padding:14px; border-radius:6px; background:#f1f8ff; border:1px solid #dbeeff; }
    .hint { font-size:13px; color:#555; margin-top:8px; }
    .score { font-size:12px; color:#333; opacity:0.7; margin-top:6px; }
    .no-speech { color:#b03a2e; }
    footer { margin-top:18px; font-size:13px; color:#666; }
    .mic { display:inline-flex; align-items:center; gap:8px; }
    .meta { font-size:13px; color:#444; margin-top:8px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Buscador de Preguntas Linux â€” Respuesta Ãºnica</h1>
    <p>Escribe o presiona el micrÃ³fono para preguntar (puedes ingresar una pregunta o una respuesta; el buscador encontrarÃ¡ la pareja asociada).</p>

    <div class="controls">
      <input id="query" type="text" placeholder="Escribe tu pregunta o una respuesta (ej: 'cp' o 'Â¿CuÃ¡l es el comando para copiar un archivo?')" />
      <button id="btnSearch">Buscar</button>
      <button id="btnMic" class="secondary">ðŸŽ¤ Usar voz</button>
    </div>

    <div id="result" class="result" aria-live="polite">Ingresa una pregunta o usa la voz y pulsa Buscar.</div>
    <div id="score" class="score"></div>
    <div id="hint" class="hint">El buscador hace coincidencia por palabras y devuelve una sola respuesta considerada correcta. Ahora acepta consultas que sean preguntas o respuestas.</div>
    <div id="meta" class="meta"></div>

    <footer>
      Puedes usar esto como pÃ¡gina estÃ¡tica en GitHub Pages (sube index.html a la rama gh-pages o a main/docs). Si quieres, puedo exportar el dataset a JSON o actualizar la API C# tambiÃ©n.
    </footer>
  </div>

  <script>
    // Base de datos de preguntas y respuestas (cada pregunta tiene una Ãºnica respuesta "verdadera")
    const QA = [
      { q: "Â¿CuÃ¡l es la diferencia entre ls, ls -l y ls -a?", a: "ls lista archivos, ls -l muestra detalles y ls -a incluye archivos ocultos." },
      { q: "Â¿Para quÃ© sirve el comando pwd?", a: "Muestra la ruta del directorio actual." },

      { q: "Â¿cual es el demonio que gestiona los servicios de Linux?", a: "systemd" },
      { q: "Â¿Cual es el comando utilizado para mostrar el directorio de trabajo actual en la terminal de Linux?", a: "pwd" },
      { q: "Â¿cual es el comando utilizado para enumerar los archivos en un directorio en Linux?", a: "ls" },
      { q: "Â¿CuÃ¡l es el comando para mostrar informaciÃ³n de uso de memoria en Linux?", a: "free" },
      { q: "Â¿cual es el comando para iniciar un servicio en Linux usando systemd?", a: "systemctl start <nombre-del-servicio>" },
      { q: "Â¿cual es el comando para enumerar todos los grupos en Linux?", a: "cat /etc/group" },
      { q: "Â¿cual es el comando para detener un servicio en Linux usando systemd?", a: "systemctl stop <nombre-del-servicio>" },
      { q: "Â¿Cual es el demonio responsable de montar dispositivos automÃ¡ticamente en Linux?", a: "autofs" },
      { q: "Â¿cual es la base de la filosofÃ­a del software libre de Linux?", a: "Compartir y colaborar" },
      { q: "Cual es el comando para mover un archivo a otro directorio en Linux?", a: "mv" },
      { q: "Â¿cual es el archivo que contiene la configuraciÃ³n de resoluciÃ³n de pantalla en Linux?", a: "/etc/X11/xorg.conf" },
      { q: "Â¿cual es el archivo que almacena las contraseÃ±as de los usuarios en Linux?", a: "/etc/shadow" },
      { q: "Â¿cual es el comando para copiar un archivo en Linux?", a: "cp" },
      { q: "Â¿cual es el archivo que contiene la configuraciÃ³n del entorno global para todos los usuarios?", a: "/etc/profile" },
      { q: "Â¿cual es el comando para enumerar todos los procesos que se ejecutan en el sistema en Linux?", a: "ps" },
      { q: "Â¿Cual es el archivo o ruta que contiene informaciÃ³n sobre dispositivos de hardware en Linux?", a: "/sys/devices" },
      { q: "Â¿cual es el comando para cambiar el directorio actual a un directorio especifico en Linux?", a: "cd" },
      { q: "Â¿cual es el archivo que contiene la configuraciÃ³n de la impresora en Linux?", a: "/etc/cups" },
      { q: "Â¿cual es el archivo que contiene la configuraciÃ³n de red para systemd en Linux?", a: "No existe un archivo Ãºnico; la configuraciÃ³n de red para systemd se encuentra en /etc/systemd/network/" },
      { q: "Â¿cual es el comando para mostrar informaciÃ³n sobre dispositivos de red en Linux?", a: "ifconfig (o ip a para sistemas modernos)" },
      { q: "Â¿cual es el comando para eliminar un archivo en Linux?", a: "rm" },
      { q: "Â¿cual es la utilidad que se utiliza para comprimir archivos en formato .tar.gz en Linux?", a: "tar" },
      { q: "Â¿cual es el comando para iniciar un programa en Linux desde la terminal?", a: "Escribir el nombre del programa" },
      { q: "Â¿cual es el comando que se utiliza para cambiar los permisos de un archivo en Linux?", a: "chmod" },
      { q: "Â¿cual es el archivo que contiene la informaciÃ³n sobre los paquetes instalados en Linux (en sistemas basados en debian)?", a: "/var/lib/dpkg/status" },
      { q: "Â¿cual es el comando para formatear una particiÃ³n en Linux?", a: "mkfs" },
      { q: "Â¿cual es el comando para crear un nuevo directorio en Linux?", a: "mkdir" },
      { q: "Â¿cual es el comando que se utiliza para cambiar la contraseÃ±a de un usuario en Linux?", a: "passwd" },
      { q: "Â¿cual es el comando para montar una particiÃ³n en Linux?", a: "mount" },
      { q: "Â¿cual es el comando para cambiar el grupo de un archivo en Linux?", a: "chgrp" },
      { q: "Â¿cual es el comando para mostrar informaciÃ³n de configuraciÃ³n de red en Linux?", a: "ifconfig (o ip a)" },
      { q: "Â¿cual es el comando para matar un proceso especifico en Linux?", a: "kill <PID>" },
      { q: "Â¿cual es el comando para cambiar el nombre de un archivo en Linux?", a: "mv" },
      { q: "Â¿cuÃ¡l es el comando que se utiliza para mostrar informaciÃ³n sobre las particiones del sistema en Linux?", a: "lsblk" },
      { q: "Â¿cuÃ¡l es el comando para enumerar todos los archivos en un directorio y sus subcarpetas en Linux?", a: "ls -R" },
      { q: "Â¿cuÃ¡l es el archivo que contiene configuraciÃ³n de hosts en Linux?", a: "/etc/hosts" },
      { q: "Â¿cuÃ¡l es el comando para enumerar todos los paquetes instalados en Linux (usando dpkg)?", a: "dpkg -l" },
      { q: "Â¿cÃ³mo se obtiene la informaciÃ³n de configuraciÃ³n de hardware en Linux?", a: "Ejecutando el comando lshw" },
      { q: "Â¿cuÃ¡l es el archivo que almacena los permisos de un directorio en Linux?", a: "No existe un archivo especÃ­fico; los permisos se almacenan en el sistema de archivos" },
      { q: "Â¿cuÃ¡l es el comando para cambiar el propietario de un archivo en Linux?", a: "chown" },
      { q: "Â¿cuÃ¡l es el comando para instalar un paquete de Linux usando el sistema de administraciÃ³n de paquetes dpkg?", a: "dpkg -i <paquete.deb>" },
      { q: "Â¿cuÃ¡l es el comando para enumerar los paquetes instalados en una distribuciÃ³n de Linux?", a: "dpkg -l (en Debian/Ubuntu)" },
      { q: "Â¿cuÃ¡l es el comando para agregar un usuario a un grupo de Linux?", a: "usermod -aG <grupo> <usuario>" },
      { q: "Â¿cuÃ¡l es el comando para mostrar informaciÃ³n sobre la utilizaciÃ³n de la CPU en Linux?", a: "top" },
      { q: "Â¿cuÃ¡l es el comando para otorgar permisos de escritura, lectura y ejecuciÃ³n a un archivo en Linux?", a: "chmod 777 <archivo>" },
      { q: "Â¿CuÃ¡l es el comando utilizado para crear un nuevo usuario en Linux?", a: "adduser" },

      // SecciÃ³n de preguntas frecuentes / explicaciÃ³n:
      { q: "Â¿CÃ³mo copiar, mover y eliminar archivos con cp, mv y rm?", a: "cp copia, mv mueve o renombra y rm elimina archivos." },
      { q: "Â¿QuÃ© hace chmod y cÃ³mo se usa en formato numÃ©rico?", a: "Cambia permisos usando nÃºmeros como 755 (propietario rwx, grupo rx, otros rx)." },
      { q: "Â¿Para quÃ© sirven chown y chgrp?", a: "Cambian el propietario y el grupo de un archivo." },
      { q: "Â¿QuÃ© hace el comando find?", a: "Busca archivos y directorios en el sistema." },
      { q: "Â¿Para quÃ© se utiliza grep?", a: "Busca texto dentro de archivos." },

      // AdministraciÃ³n de usuarios y grupos (resÃºmenes)
      { q: "Â¿CÃ³mo crear y eliminar usuarios en Linux?", a: "Con useradd para crear y userdel para eliminar (tambiÃ©n adduser en muchas distros)." },
      { q: "Â¿Diferencia entre usuario root y usuario estÃ¡ndar?", a: "Root tiene control total; un usuario estÃ¡ndar tiene permisos limitados." },
      { q: "Â¿QuÃ© archivo almacena la informaciÃ³n de usuarios?", a: "/etc/passwd" },
      { q: "Â¿QuÃ© es la autenticaciÃ³n y cÃ³mo funciona en Linux?", a: "Proceso de verificaciÃ³n de identidad mediante usuario y contraseÃ±a." },
      { q: "Â¿QuÃ© hace el comando sudo?", a: "Ejecuta comandos con privilegios de administrador." },

      // Permisos y seguridad
      { q: "Explique los permisos r, w, x.", a: "r = leer, w = escribir, x = ejecutar." },
      { q: "Â¿QuÃ© significa el permiso 755?", a: "Propietario todo (rwx), grupo y otros solo leer y ejecutar (r-x)." },
      { q: "Â¿QuÃ© diferencia hay entre permisos y propietarios?", a: "El propietario es el dueÃ±o; los permisos definen quÃ© puede hacer cada categorÃ­a." },
      { q: "Â¿QuÃ© es SELinux o AppArmor?", a: "Sistemas de control de acceso de seguridad." },
      { q: "Â¿CÃ³mo se protege un servidor Linux?", a: "Con permisos, firewall, actualizaciones y control de usuarios." },

      // GestiÃ³n de procesos
      { q: "Â¿QuÃ© hace el comando ps?", a: "Muestra los procesos en ejecuciÃ³n." },
      { q: "Â¿Para quÃ© sirve top o htop?", a: "Monitorean procesos en tiempo real." },
      { q: "Â¿CÃ³mo finalizar un proceso con kill?", a: "Con kill <PID>." },
      { q: "Â¿QuÃ© es un proceso zombie?", a: "Proceso terminado que aÃºn figura en la tabla de procesos hasta que el padre lo recoja." },
      { q: "Â¿Diferencia entre procesos en primer y segundo plano?", a: "Primer plano ocupa la terminal; segundo plano no." },

      // AdministraciÃ³n de paquetes
      { q: "Â¿Diferencia entre apt, dnf y yum?", a: "Son gestores de paquetes para distintas distribuciones." },
      { q: "Â¿CÃ³mo instalar, actualizar y eliminar paquetes?", a: "Con apt install, apt upgrade y apt remove (u otros segÃºn la distro)." },
      { q: "Â¿QuÃ© son los repositorios?", a: "Fuentes desde donde se descargan los programas." },
      { q: "Â¿QuÃ© es un paquete .deb y un .rpm?", a: "Formatos de instalaciÃ³n de software (.deb para Debian/Ubuntu, .rpm para Fedora/CentOS)." },

      // Arranque y servicios
      { q: "Â¿QuÃ© es el GRUB?", a: "Gestor de arranque del sistema." },
      { q: "Â¿QuÃ© es systemd?", a: "Sistema de inicio y gestiÃ³n de servicios." },
      { q: "Â¿CÃ³mo iniciar, detener y reiniciar un servicio?", a: "Con systemctl start, systemctl stop y systemctl restart." },
      { q: "Â¿CÃ³mo habilitar un servicio al inicio?", a: "Con systemctl enable." },
      { q: "Â¿QuÃ© son los archivos en /etc?", a: "Archivos de configuraciÃ³n del sistema." },

      // Redes
      { q: "Â¿CÃ³mo ver la IP del sistema?", a: "Con ip a o ifconfig." },
      { q: "Â¿QuÃ© hace ping?", a: "Verifica conectividad de red." },
      { q: "Â¿QuÃ© es DNS?", a: "Sistema que traduce nombres en direcciones IP." },
      { q: "Â¿Diferencia entre IP pÃºblica y privada?", a: "La pÃºblica es visible en Internet; la privada no." },
      { q: "Â¿QuÃ© es un firewall y cÃ³mo se configura?", a: "Sistema de seguridad que controla accesos de red (ufw o firewalld)." },

      // Sistemas de archivos y almacenamiento
      { q: "Â¿QuÃ© es un sistema de archivos?", a: "MÃ©todo para organizar datos en un disco." },
      { q: "Diferencias entre ext4, xfs y ntfs.", a: "ext4 y xfs son sistemas de archivos comunes en Linux; ntfs es tÃ­pico de Windows." },
      { q: "Â¿QuÃ© es una particiÃ³n?", a: "DivisiÃ³n lÃ³gica de un disco." },
      { q: "Â¿Para quÃ© sirve mount y umount?", a: "Conectar y desconectar sistemas de archivos." },
      { q: "Â¿QuÃ© es LVM?", a: "Gestor avanzado de volÃºmenes lÃ³gicos." },

      // VirtualizaciÃ³n y contenedores
      { q: "Â¿QuÃ© es la virtualizaciÃ³n?", a: "EjecuciÃ³n de varios sistemas en un solo hardware." },
      { q: "Diferencia entre mÃ¡quina virtual y contenedor.", a: "La VM simula hardware; el contenedor comparte el sistema operativo." },
      { q: "Â¿QuÃ© es Docker?", a: "Plataforma de contenedores." },
      { q: "Â¿QuÃ© es una imagen y un contenedor?", a: "La imagen es la plantilla; el contenedor es la instancia en ejecuciÃ³n." },

      // Backups
      { q: "Â¿QuÃ© es un backup?", a: "Copia de seguridad de la informaciÃ³n." },
      { q: "Tipos de respaldo.", a: "Completo, incremental y diferencial." },
      { q: "Â¿QuÃ© hace rsync?", a: "Sincroniza archivos entre sistemas." },
      { q: "Â¿Por quÃ© son importantes las copias de seguridad?", a: "Previenen pÃ©rdida de informaciÃ³n." },

      // Casos prÃ¡cticos
      { q: "Un usuario no tiene acceso a una carpeta.", a: "Revisar permisos y propietario." },
      { q: "El servidor no arranca.", a: "Revisar GRUB y logs del sistema." },
      { q: "Un servicio web estÃ¡ caÃ­do.", a: "Usar systemctl status y journalctl." },
      { q: "No hay espacio en disco.", a: "Ver con df -h y borrar archivos innecesarios." },

      // Tipo certificaciÃ³n y comandos varios
      { q: "Â¿QuÃ© comando muestra el espacio libre en disco?", a: "df -h" },
      { q: "Â¿DÃ³nde se almacenan los logs del sistema?", a: "/var/log" },
      { q: "Â¿QuÃ© hace el comando tar?", a: "Comprime y descomprime archivos (tar, tar.gz, etc.)." },
      { q: "Â¿QuÃ© es el kernel?", a: "NÃºcleo del sistema operativo." },

      // --- Preguntas adicionales que solicitaste: ---
      { q: "Â¿que muestra el comando id en Linux?", a: "IdentificaciÃ³n de usuario actual" },
      { q: "Â¿cual es el archivo que almacena el nombre del sistema?", a: "/etc/hostname (o /etc/nombre de host)" },
      { q: "Â¿que comando se utiliza para ver el historial de comandos ingresados?", a: "history" },
      { q: "Â¿QuÃ© comando se utiliza en Linux para obtener el manual de un comando especifico?", a: "man" },
      { q: "Â¿que hace el comando mount en Linux?", a: "Montar sistemas de archivos" },
      { q: "Â¿Cual es el directorio utilizado en Linux para almacenar archivos temporales?", a: "/tmp" },
      { q: "Â¿cual es el propÃ³sito del comando ifconfig en Linux?", a: "Mostrar interfaces de red" },
      { q: "Â¿que muestra el comando groups en Linux?", a: "Muestra los grupos a los que pertenece el usuario." },
      { q: "Â¿cual es el propÃ³sito del comando rmdir?", a: "Eliminar directorios" },
      { q: "Â¿cual es el archivo utilizado para programar tareas automÃ¡ticamente?", a: "/etc/crontab" },
      { q: "Â¿que hace el comando chmod 755 filename?", a: "Establece permisos de archivo en rwxr-xr-x" },
      { q: "Â¿que comando se utiliza para detener un servicio en Linux usando systemctl?", a: "systemctl stop" },
      { q: "Â¿que hace el comando useradd en Linux?", a: "Crear un nuevo usuario" },
      { q: "Â¿cual es el directorio predeterminado para los archivos de registro en Linux?", a: "/var" },
      { q: "Â¿que comando se utiliza para encontrar las diferencias entre dos archivos en Linux?", a: "cmp (compare) o diff (difference)" },
      { q: "Â¿cual es la funciÃ³n principal del comando ssh?", a: "Conectarse a mÃ¡quinas de forma remota" },
      { q: "Â¿que hace el comando kill?", a: "Terminar un proceso" },
      { q: "Â¿cual es el propÃ³sito del comando date?", a: "Mostrar la fecha actual" },
      { q: "Â¿cual es el directorio utilizado para almacenar los archivos de registro del sistema en Linux?", a: "/var/log (o /var/registro en tu listado)" },
      { q: "Â¿cual es el archivo que contiene configuraciones de hosts en Linux?", a: "/etc/hosts" },
      { q: "Â¿que muestra el comando uname -a?", a: "Todos los detalles del sistema operativo" },
      { q: "Â¿Cual es el propÃ³sito del comando history?", a: "Lista de comandos recientes" },
      { q: "Â¿Cual es el propÃ³sito del comando tar?", a: "Crear o extraer archivos" },
      { q: "Â¿QuÃ© muestra el comando pwd?", a: "Directorio actual" },
      { q: "Â¿para que se utiliza el comando cron?", a: "Programar tareas para que se ejecuten automÃ¡ticamente" },
      { q: "Â¿cuÃ¡l es el propÃ³sito del comando find?", a: "Buscar archivos y directorios" },
      { q: "Â¿que comando se utiliza para comprobar el uso de RAM en Linux?", a: "free" },
      { q: "Â¿cuÃ¡l es el objetivo principal del comando CHOWN en Linux?", a: "Cambiar el propietario de un archivo o directorio" },
      { q: "Â¿CuÃ¡l es el propÃ³sito del comando alias?", a: "Crear un nuevo comando basado en otro" },
      { q: "Â¿cuÃ¡l es el propÃ³sito del comando ping?", a: "Probar la conectividad de la red" },
      { q: "Â¿cuÃ¡l es el propÃ³sito del comando sed?", a: "Editar el flujo para filtrar y transformar texto" },
      { q: "Â¿que comando se utiliza para mostrar el espacio libre y usado en el sistema de archivo?", a: "df" },
      { q: "Â¿en quÃ© directorio se encuentran comÃºnmente los scripts de inicio del sistema en Linux?", a: "/etc/init" },
      { q: "Â¿CuÃ¡l es el propÃ³sito del directorio /var?", a: "Almacena datos variables como logs y archivos spool" },
      { q: "Â¿ cuÃ¡l es el propÃ³sito del comando uptime?", a: "Mostrar el tiempo que el sistema ha estado funcionando" },
      { q: "Â¿quÃ© comando se utiliza para mostrar los procesos de ejecuciÃ³n en tiempo real?", a: "top" },
      { q: "Â¿cuÃ¡l es el comando utilizado para copiar archivos Linux?", a: "cp" },
      { q: "Â¿QuÃ© hace el comando passwd en Linux?", a: "Cambiar contraseÃ±a de usuario" },
      { q: "Â¿ que hace el comando du en Linux?", a: "Mostrar el uso del disco" },
      { q: "Â¿quÃ© muestra el comando echo $PATH?", a: "Rutas de bÃºsqueda para ejecutables" },
      { q: "Â¿ que comando se utiliza para ver el espacio utilizado por los directorios?", a: "du" },
      { q: "Â¿Que hace el comando wc en Linux?", a: "Contar palabras, lÃ­neas y caracteres en un archivo" },
      { q: "Â¿que directorio almacena los archivos de configuraciÃ³n del sistema?", a: "/etc" },

      // Segunda lista adicional
      { q: "Â¿quÃ© comando se utiliza para enumerar rutas de red?", a: "ip route (o herramientas como route)" },
      { q: "Â¿cuÃ¡l es el propÃ³sito del comando awk?", a: "EdiciÃ³n y procesamiento de texto avanzado" },
      { q: "Â¿CuÃ¡l es el Shell predeterminado para la mayorÃ­a de las distribuciones de Linux?", a: "bash" },
      { q: "Â¿cuÃ¡l es el archivo que contiene informaciÃ³n de configuraciÃ³n de red en linux?", a: "/etc/network/interfaces (en muchas distros Debian/Ubuntu)" },
      { q: "Â¿ cuÃ¡l es el comando que crea un enlace simbÃ³lico a un archivo en linux?", a: "ln -s" },
      { q: "Â¿ cual es el comando utilizado para mostrar el contenido de un archivo en la terminal?", a: "cat" },
      { q: "Â¿cuÃ¡l es el comando para mostrar informaciÃ³n detallada sobre un usuario en linux?", a: "id" },
      { q: "Â¿ cuÃ¡l es el comando para mostrar informaciÃ³n sobre la utilizaciÃ³n de la CPU en linux?", a: "top" },
      { q: "Â¿ cuÃ¡l es el comando para iniciar el entorno grafico de linux?", a: "startx" },
      { q: "Â¿ cuÃ¡l es el comando para buscar un archivo en todo el sistema en linux?", a: "find" },
      { q: "Â¿cuÃ¡l es el archivo que contiene la configuraciÃ³n de resoluciones de pantalla en linux?", a: "/etc/X11/xorg.conf" },
      { q: "Â¿cuÃ¡l es el comando para crear un nuevo usuario en linux?", a: "adduser" },
      { q: "Â¿cuÃ¡l es el archivo que almacena la configuraciÃ³n del hardware del sistema en linux?", a: "No existe un archivo estÃ¡ndar; algunas utilidades (lshw) muestran hardware" },
      { q: "Â¿CuÃ¡l es el comando para crear un nuevo directorio en linux?", a: "mkdir" },
      { q: "Â¿Cual es el archivo que almacena las contraseÃ±as de los usuarios en linux?", a: "/etc/shadow" },
      { q: "Â¿cuÃ¡l es el comando para enumerar todos los servicios instalados en linux usando systemd?", a: "systemctl list-units --all" },
      { q: "Â¿cuÃ¡l es el archivo que contiene informaciÃ³n sobre los servicios que se deben iniciar en el momento del arranque en linux?", a: "/etc/systemd/system/" },
      { q: "Â¿CuÃ¡l es la utilidad de lÃ­nea de comandos que se utiliza para comprimir archivos en formato .tar.gz en linux?", a: "tar" },
      { q: "Â¿ cuÃ¡l es el comando que se utiliza para mostrar informaciÃ³n sobre las interfaces de red de linux?", a: "ifconfig (o ip a)" },
      { q: "Â¿cuÃ¡l es el archivo que contiene la configuraciÃ³n del entorno global para todos los usuarios de linux?", a: "/etc/profile" },
      { q: "Â¿cuÃ¡l es el archivo que almacena la configuraciÃ³n de arranque del sistema en linux?", a: "/etc/inittab (en sistemas init clÃ¡sicos; systemd usa otros archivos)" },
      { q: "Â¿ cual es el comando para agregar una direcciÃ³n ip a una interfaz de red en linux?", a: "ip addr add" },
      { q: "Â¿cuÃ¡l es el archivo que almacena la configuraciÃ³n del entorno de escritorio del usuario en Linux?", a: "/home/usuario/.profile (u otros archivos dependiendo del entorno)" },
      { q: "Â¿cuÃ¡l es el comando para reiniciar el servicio de red en linux?", a: "systemctl restart network (o NetworkManager segÃºn distro)" },
      { q: "Â¿ cuÃ¡l es el comando que se utiliza para cambiar la contraseÃ±a de un usuario en linux?", a: "passwd" },
      { q: "Â¿CuÃ¡l es el comando que se utiliza para otorgar permisos de escritura, lectura y ejecuciÃ³n a un archivo en Linux?", a: "chmod 777 archivo.txt" },
      { q: "Â¿Cual es el comando para crear un nuevo grupo en Linux?", a: "groupadd" },
      { q: "Â¿cuÃ¡l es el demonio que gestiona el entorno grafico en Linux?", a: "Xorg (en sistemas basados en X11)" },
      { q: "Â¿cuÃ¡l es el comando para cambiar el nivel de ejecuciÃ³n del sistema en Linux usando systemd?", a: "systemctl set-default" },
      { q: "Â¿CuÃ¡l es el comando para matar un proceso especifico en Linux?", a: "kill" },
      { q: "Â¿cuÃ¡l es el comando utilizado para enumerar todos los procesos que se ejecutan en el sistema en linux?", a: "ps" },
      { q: "Â¿cuÃ¡l es el comando para enumerar todos los grupos en Linux?", a: "cat /etc/group" },
      { q: "Â¿cuÃ¡l es el comando para iniciar un servicio en Linux usando systemd?", a: "systemctl start servicio" },
      { q: "Â¿CuÃ¡l es el comando para copiar un archivo a un directorio especifico en Linux?", a: "cp archivo destino/" },
      { q: "Â¿cuÃ¡l es el comando para mostrar informaciÃ³n sobre la conexiÃ³n de red de un dominio en Linux?", a: "nslookup" },
      { q: "Â¿cual es el comando para mostrar las rutas de red del sistema en Linux?", a: "route (o ip route)" },
      { q: "Â¿cuÃ¡l es el demonio responsable de montar dispositivos automÃ¡ticamente en Linux?", a: "autofs" },
      { q: "Â¿cuÃ¡l es el comando para instalar un paquete en Linux usando el sistema de administraciÃ³n de paquetes dpkg?", a: "dpkg -i" },
      { q: "Â¿CuÃ¡l es el comando para mostrar informaciÃ³n de uso de memoria en Linux?", a: "free" },
      { q: "Â¿cuÃ¡l es el comando utilizado para mostrar el directorio de trabajo actual en la terminal de Linux?", a: "pwd" },
      { q: "Â¿CuÃ¡l es el comando para mostrar informaciÃ³n sobre el uso de la memoria virtual en Linux?", a: "vmstat" },
      { q: "Â¿cuÃ¡l es el comando para eliminar un archivo en Linux?", a: "rm" },
      { q: "Â¿cuÃ¡l es el comando para listar todos los servicios activos en Linux usando systemd?", a: "systemctl list-units" },
      { q: "Â¿cuÃ¡l es el archivo que contiene configuraciones de hosts en linux?", a: "/etc/hosts" },
      { q: "Â¿CuÃ¡l es el comando para detener un servicio en linux usando systemd?", a: "systemctl stop servicio" },
      { q: "Â¿cuÃ¡l es el archivo que almacena la configuraciÃ³n de red para systemd en linux?", a: "/etc/systemd/network/" },
      { q: "Â¿CuÃ¡l es el comando para agregar un usuario a un grupo en linux?", a: "usermod -G (para sobrescribir) o usermod -aG (para aÃ±adir sin sobrescribir)" },
      { q: "Â¿quÃ© comando se utiliza para enumerar rutas de red?", a: "ip route (iproute)" },
      { q: "Â¿cuÃ¡l es el propÃ³sito del comando awk?", a: "EdiciÃ³n y procesamiento de texto avanzado" },
      { q: "Â¿cuÃ¡l es el Shell predeterminado para la mayorÃ­a de las distribuciones de linux?", a: "bash" }
    ];

    // NormalizaciÃ³n simple (quita tildes, minuscula)
    function normalize(text) {
      return text
        .toString()
        .toLowerCase()
        .normalize("NFD").replace(/[\u0300-\u036f]/g, "") // quitar tildes
        .replace(/[^\w\s-?<>/]/g, " ") // quitar signos raros (permitir slash)
        .replace(/\s+/g, " ")
        .trim();
    }

    // Buscar mejor coincidencia por conteo de palabras compartidas y considerar tanto pregunta como respuesta
    function findBestAnswer(query) {
      const nq = normalize(query);
      if (!nq) return { a: "No se ingresÃ³ una pregunta.", score: 0, q: "", matchedField: null };

      // Puntuar exact match de preguntas o respuestas
      for (const item of QA) {
        if (normalize(item.q) === nq) {
          return { a: item.a, score: 1.0, q: item.q, matchedField: "question" };
        }
        if (normalize(item.a) === nq) {
          return { a: item.a, score: 1.0, q: item.q, matchedField: "answer" };
        }
      }

      // Si no hay exact match, puntuamos coincidencias por palabras compartidas con pregunta y con respuesta
      const qWords = new Set(nq.split(" "));
      let best = null;
      for (const item of QA) {
        const qNorm = normalize(item.q);
        const aNorm = normalize(item.a);

        const qWordsList = qNorm.split(" ").filter(Boolean);
        const aWordsList = aNorm.split(" ").filter(Boolean);

        const commonQ = qWordsList.reduce((acc, w) => acc + (qWords.has(w) ? 1 : 0), 0);
        const scoreQ = commonQ / Math.max(1, qWordsList.length);

        const commonA = aWordsList.reduce((acc, w) => acc + (qWords.has(w) ? 1 : 0), 0);
        const scoreA = commonA / Math.max(1, aWordsList.length);

        // elegir la mejor entre pregunta y respuesta para este item
        const use = scoreQ >= scoreA ? { score: scoreQ, field: "question" } : { score: scoreA, field: "answer" };

        if (!best || use.score > best.score) {
          best = { item, score: use.score, field: use.field };
        }
      }

      if (!best || best.score < 0.25) {
        return { a: "No he encontrado una respuesta segura para esa consulta. Intenta usar palabras clave (ej: 'comando copiar archivo cp').", score: best ? best.score : 0, q: "", matchedField: null };
      }

      return { a: best.item.a, score: best.score, q: best.item.q, matchedField: best.field };
    }

    // UI hooks
    const input = document.getElementById("query");
    const btnSearch = document.getElementById("btnSearch");
    const btnMic = document.getElementById("btnMic");
    const result = document.getElementById("result");
    const scoreBox = document.getElementById("score");
    const meta = document.getElementById("meta");

    btnSearch.addEventListener("click", () => {
      doSearch(input.value);
    });
    input.addEventListener("keydown", (e) => {
      if (e.key === "Enter") doSearch(input.value);
    });

    function doSearch(text) {
      const found = findBestAnswer(text);
      if (found.matchedField === "question") {
        result.innerHTML = "<strong>Pregunta encontrada:</strong> " + (found.q || "(sin coincidencia exacta)") + "<br><strong>Respuesta Ãºnica:</strong> " + found.a;
        meta.textContent = "Consulta tratada como pregunta.";
      } else if (found.matchedField === "answer") {
        result.innerHTML = "<strong>Respuesta encontrada (usada como consulta):</strong> " + found.a + "<br><strong>Pregunta asociada:</strong> " + (found.q || "(sin coincidencia exacta)");
        meta.textContent = "Consulta tratada como respuesta â€” se devolviÃ³ la pregunta asociada.";
      } else {
        result.textContent = found.a;
        meta.textContent = "";
      }
      scoreBox.textContent = "Confianza: " + (Math.round(found.score * 100)) + "%";
    }

    // Reconocimiento de voz (Web Speech API)
    let recognition;
    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      recognition = new SpeechRecognition();
      recognition.lang = 'es-ES';
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;

      recognition.onresult = function(event) {
        const text = event.results[0][0].transcript;
        input.value = text;
        doSearch(text);
      };
      recognition.onerror = function(event) {
        result.innerHTML = "<span class='no-speech'>Error de reconocimiento: " + event.error + "</span>";
      };
    } else {
      btnMic.disabled = true;
      btnMic.title = "Reconocimiento de voz no soportado en este navegador";
    }

    btnMic.addEventListener("click", () => {
      if (!recognition) {
        result.innerHTML = "<span class='no-speech'>Reconocimiento de voz no soportado en este navegador.</span>";
        return;
      }
      recognition.start();
      result.textContent = "Escuchando... habla ahora.";
      meta.textContent = "";
    });

    // Ejemplo inicial (opcional)
    // doSearch("Â¿que hace el comando cp?");
  </script>
</body>
</html>
